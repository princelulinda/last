<!-- NOTE :: Presentation section -->
<section class="py-5 row align-items-center justify-content-center mx-0">
  <div
    class="col-11 col-md-7 col-lg-5 mt-3 mt-md-0 text-sm-center text-md-start d-flex flex-column">
    <b class="fs-xx-large">
      <span i18n
        >Manage better, grow faster <br />
        with <span class="text-primary">Magis ERP</span></span
      >
    </b>
    <span class="fs-l-medium mt-3" i18n>
      The ideal solution for businesses of all sizes looking
      <br class="d-none d-md-block" />
      to improve their operations and stimulate their growth.
    </span>
  </div>
  <div class="col-10 col-sm-7 col-md-4">
    <div class="col-lg-10 ms-auto">
      <img
        class="image"
        src="/images/logo/magis-erp.png"
        alt="Magis ERP Logo" />
    </div>
  </div>
</section>

<!-- NOTE :: Trusted by Section -->
<section class="bg-erp py-4 mt-4 position-relative">
  <div class="text-center mb-3 text-secondary">
    <b class="fs-l-medium" i18n>Trusted by</b>
  </div>
  <section
    class="row col-md-9 col-lg-10 col-xxl-8 mx-auto justify-content-center justify-content-sm-start align-items-center"
    style="gap: 1rem 0">
    <div class="col-6 col-sm-4 col-md-3 border-end">
      <div class="trusted-logo mx-auto">
        <img
          src="/images/logo/ihela-credit-union.png"
          alt="iHela credit union logo"
          class="image object-fit-contain" />
      </div>
    </div>
    <div class="col-6 col-sm-4 col-md-3 border-end">
      <div class="trusted-logo mx-auto">
        <img
          src="/images/logo/socade.png"
          alt="socade logo"
          class="image object-fit-contain" />
      </div>
    </div>

    <div class="col-6 col-sm-4 col-md-3 border-end">
      <div class="trusted-logo mx-auto">
        <img
          src="/images/logo/CECD_ART.png"
          alt="CECD_ART logo"
          class="image object-fit-contain" />
      </div>
    </div>
  </section>
</section>

<!-- NOTE :: ORGANISATIONS , INVITATION AND REQUEST SECTION -->
<section class="mt-5 mb-3 mx-auto">
  @if (
    (operatorOrganizations && operatorOrganizations.length > 0) ||
    (invitations && invitations.length > 0)
  ) {
    <div class="row mx-0 justify-content-lg-center mx-3 mx-lg-0 mb-4">
      <!-- NOTE :: INVITIATIONS SECTION -->
      <section class="col-lg-5 px-0 px-md-auto">
        <div class="fs-x-large col-11 mx-auto text-center text-md-start">
          <b i18n>Your Organizations</b>
        </div>
        <div
          class="row mx-0 mt-3 justify-content-center justify-content-sm-start"
          style="gap: 2rem 0">
          @for (item of operatorOrganizations; track $index) {
            <div class="d-flex flex-column align-items-center col-5 col-sm-4">
              <div
                role="button"
                tabindex="0"
                (click)="selectOrganization(item)"
                class="sm-radius organization-logo d-flex justify-content-center align-items-center p-3 border bg-white">
                <img
                  [src]="item.institution_client.picture"
                  class="image"
                  alt="organization logo" />
              </div>
              <div class="mt-1 text-center">
                <small
                  ><b>{{ item.institution_client.client_full_name }}</b></small
                >
              </div>
            </div>
          }
          <!-- add organization -->
          <a class="d-flex flex-column align-items-center col-5 col-sm-4">
            <div
              class="sm-radius organization-logo d-flex justify-content-center align-items-center bg-white border bg-secondary">
              <span class="text-primary fs-x-large"
                ><i class="fa-solid fa-plus"></i
              ></span>
            </div>
            <div class="mt-1 text-center">
              <small> <b i18n>Add Organization</b></small>
            </div>
          </a>
        </div>
      </section>

      <!-- NOTE :: OPERATOR INVITATION  SECTION -->
      @if (!loadingInvitations && invitations && invitations.length > 0) {
        <section
          class="col-11 col-sm-9 col-md-8 col-lg-6 col-xxl-4 px-md-auto border border-primary lg-radius p-3 invitation-container mt-4 mt-lg-0 overflow-y-auto">
          <b i18n>Invitations</b>
          @for (item of invitations; track $index) {
            <div
              class="bg-primary-3 mt-2 lg-radius d-flex align-items-center p-2">
              @if (item.organization.institution_client.picture) {
                <div class="organization-logo col-auto">
                  <img
                    [src]="item.organization.institution_client.picture"
                    class="image"
                    alt="ihela" />
                </div>
              }

              <small
                class="text-all-dark px-3 fs-x-small border-start border-secondary ms-1">
                <span i18n class="fw-bold">You have been invited</span>
                to become an operator with
                {{ item.organization.institution_client.client_full_name }}
              </small>

              <div
                class="border-start border-dark ps-3 col-auto d-flex justify-content-around pe-2">
                <span
                  class="text-success fs-large me-3"
                  role="button"
                  (click)="submitInvitationResponse('accept', item)"
                  tabindex="0">
                  <i class="fa-regular fa-circle-check"></i>
                </span>

                <span
                  class="text-danger fs-large"
                  role="button"
                  (click)="submitInvitationResponse('decline', item)"
                  tabindex="0">
                  <i class="fa-regular fa-circle-xmark"></i>
                </span>
              </div>
            </div>
          }
        </section>
      } @else {
        <!-- NOTE :: DESIGN PLACEHOLDER -->
        <div class="col-11 col-sm-9 col-md-8 col-lg-6 col-xxl-4"></div>
      }
    </div>
  } @else {
    <div
      class="d-flex flex-column justify-content-center align-items-center mx-3 mx-lg-0">
      <b class="fs-x-large" i18n>Join Magis ERP and unlock growth!</b>
      <span class="mt-4">
        Elevate your business and unlock a world of opportunities to reach more
        customers, boost visibility, manage your business seamlessly, and gain
        valuable insights that drive growth.
      </span>
      <div class="text-center mt-5">
        <button class="btn bg-primary text-all-white lg-radius px-5 py-2" i18n>
          <b class="fs-l-medium">Get started</b>
        </button>
      </div>
    </div>
  }
</section>
