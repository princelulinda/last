<div>
  <div class="bg-secondary rounded p-2">
    <div class="d-flex gap-3 align-items-center justify-content-end">
      <button
        class="border rounded p-1 px-2 btn"
        (click)="refresh()"
        tabindex="0"
        [disabled]="loadingData">
        refresh
      </button>
      <div
        class="d-flex align-items-center gap-3 me-3 border rounded p-1 px-2"
        (click)="goBack()"
        tabindex="0"
        role="button">
        <div>
          <i class="fa fa-arrow-left"></i>
        </div>
        <div>Back</div>
      </div>
    </div>
  </div>
  @if (!treasurerDetails) {
    <div
      class="d-flex justify-content-center align-items-center"
      style="height: 50vh">
      <span class="spinner-border"> </span>
    </div>
  }
  @if (treasurerDetails) {
    <div class="d-flex gap-3">
      <section class="w-25 pb-5 shadow-sm">
        <div class="d-grid p-3">
          <div class="grid">
            <div
              class="w-100 d-flex justify-content-end"
              role="button"
              title="Client Details">
              <b role="button" class="text-primary fs-5">
                <i class="fa fa-arrow-up-right-from-square"></i>
              </b>
            </div>
          </div>
        </div>

        <div class="p-3">
          <div class="row col-md-8 mx-auto">
            <div class="mb-1">
              <app-profile-card
                [imageUrl]="treasurerDetails.operator.employee_client.picture"
                [fullName]="
                  treasurerDetails.operator.employee_client.client_full_name
                "
                height="150px"
                width="150px"></app-profile-card>
            </div>

            <div class="d-grid">
              <b class="text-md text-truncate">
                {{ treasurerDetails.operator.employee_client.client_full_name }}
              </b>
              <span class="text-md-sm">
                {{
                  treasurerDetails.operator.employee_client.client_code ??
                    '-----------'
                }}</span
              >
            </div>
          </div>

          <div class="mt-4 mx-4">
            <div>
              <div class="mb-3">
                <b class="text-primary fs-medium" i18n>Basic client info</b>
              </div>

              <div class="d-grid mb-3">
                <b class="text-secondary fs-small" i18n>Client type</b>
                <b class="fs-normal">
                  {{
                    treasurerDetails.operator.employee_client.client_type
                      .title ?? '-----------'
                  }}
                </b>
              </div>
              <div class="d-grid mb-3">
                <b class="text-secondary fs-small" i18n>Client Mail</b>

                <b class="fs-normal">
                  {{
                    treasurerDetails.operator.employee_client.client_email ??
                      '-----------'
                  }}
                </b>
              </div>
              <div class="d-grid mb-3">
                <b class="text-secondary fs-small" i18n>Client category</b>
                <b class="fs-normal"> ---------- </b>
              </div>
              <div class="d-grid mb-3">
                <b class="text-secondary fs-small" i18n>Merchant</b>
                @if (treasurerDetails.operator.employee_client.is_merchant) {
                  <b class="fs-5">
                    <span>
                      <i class="fa fa-check-circle text-success"></i>
                    </span>
                  </b>
                }
                @if (!treasurerDetails.operator.employee_client.is_merchant) {
                  <b class="fs-5">
                    <span>
                      <i class="fa fa-check-circle text-danger"></i>
                    </span>
                  </b>
                }
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="col-8 p-3">
        <div>
          <b class="fs-large"> Teller details </b>
        </div>

        <!--organisation-->
        <div>
          <div class="d-flex align-items-center gap-2">
            <div class="d-flex align-items-center gap-3">
              <div class="bg-primary rounded-circle w-2 h-2 p-1"></div>
              <div class="fw-bold fs-normal" i18n>Organisation</div>
              <div></div>
            </div>

            <div class="w-100">
              <hr class="w-100" />
            </div>
          </div>
          <div class="mt-2">
            <div class="d-flex justify-content-between">
              <div class="d-flex align-items-center gap-5 ms-5">
                <div class="d-grid">
                  <div class="fs-normal text-dark" i18n>Name:</div>
                  <div class="fs-normal text-dark mt-2" i18n>ID:</div>
                  <div class="fs-normal text-dark mt-2" i18n>Type:</div>
                  <div class="fs-normal text-dark mt-2" i18n>
                    Shares Capacity:
                  </div>
                  <div class="fs-normal text-dark mt-2" i18n>Active:</div>
                </div>
                <div class="d-grid">
                  <div class="fs-normal text-dark fw-bold">
                    {{
                      treasurerDetails.organization.institution_client
                        .client_full_name ?? '-----------'
                    }}
                  </div>
                  <div class="fs-normal text-dark fw-bold mt-2">
                    {{
                      treasurerDetails.organization.institution_client
                        .client_code ?? '-----------'
                    }}
                  </div>
                  <div class="fs-normal text-dark fw-bold mt-2">
                    {{
                      treasurerDetails.organization.institution_client
                        .client_type.title ?? '-----------'
                    }}
                  </div>
                  <div class="fs-normal text-dark fw-bold mt-2">
                    {{
                      treasurerDetails.organization.share_capital ??
                        '-----------'
                    }}
                    BIF
                  </div>
                  <div class="mt-2">
                    @if (treasurerDetails.organization.is_active) {
                      <b class="fs-5">
                        <span>
                          <i class="fa fa-check-circle text-success"></i>
                        </span>
                      </b>
                    }
                    @if (!treasurerDetails.organization.is_active) {
                      <b class="fs-5">
                        <span>
                          <i class="fa fa-check-circle text-danger"></i>
                        </span>
                      </b>
                    }
                  </div>
                </div>
              </div>
              <div>
                <img
                  src="{{
                    treasurerDetails.organization.institution_client.picture
                  }}"
                  alt="Organization logo"
                  class="img-fluid logo-size" />
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  }
</div>
