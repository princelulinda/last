@if (closing) {
  <div class="col-4">
    <form [formGroup]="searchForm" (ngSubmit)="getClientInfo()">
      <div>
        <input
          class="form-control form-control-sm ps-5 text-dark field"
          type="text"
          style="border-radius: 15px; border: none; width: 200px"
          placeholder="{{ placeholder }}"
          formControlName="clientId" />
      </div>

      <div>
        @if (!dataCheck) {
          <button
            style="bottom: 15px"
            class="text-dark btn bg-transparent position-relative translate-middle-y"
            type="submit">
            <i class="fa-solid fa-search fs-7"></i>
          </button>
        } @else if (dataCheck) {
          <span
            style="bottom: 15px"
            class="btn bg-transparent position-relative text-dark translate-middle-y"
            ><i class="fas fa-spinner fa-pulse"></i
          ></span>
        }
      </div>
    </form>
  </div>
}
@if (clientId && !closing) {
  <div
    class="row"
    [ngClass]="{
      'd-flex justify-content-center': menuSelected === 'merchant_code',
    }">
    <div
      class="{{ cardBackground }} lg-radius text-dark"
      style="min-height: 320px; width: 248px">
      <span
        type="button"
        (click)="closeInformation()"
        tabindex="0"
        class="float-end mt-1 text-secondary fs-5"
        ><i class="fa-solid fa-circle-xmark"></i
      ></span>
      <div class="p-3">
        <span i18n class="d-flex justify-content-center">
          @if (menuSelected !== 'merchant_code') {
            <strong>Client Info</strong>
          }
          @if (menuSelected === 'merchant_code') {
            <strong>Merchant Info</strong>
          }
        </span>
        <div class="d-flex justify-content-center">
          @if (clientId.acc_picture) {
            <div class="lg-radius" style="width: 100px; height: 100px">
              @if (clientId.acc_picture) {
                <img
                  [src]="clientId.acc_picture"
                  class="img-fluid float-end image lg-radius"
                  alt="clientImg" />
              }
            </div>
          } @else if (!clientId.acc_picture) {
            <!-- <img
          src="./assets/images/userprofile.png"
          class="img-fluid float-start"
          alt="userImg"
          style="
            position: relative;
            width: 120px;
            height: 120px;
            border-radius: 50%;
          " /> -->
            <span class="bg-secondary sm-radius px-4 py-3">
              <i class="fa-solid fa-user fa-4x text-all-white"></i>
            </span>
          }
        </div>
        <div class="">
          <span
            class="d-flex justify-content-center mt-1"
            style="flex-wrap: wrap"
            ><strong class="text-center">{{
              clientId.acc_holder
            }}</strong></span
          >
          <span class="d-flex justify-content-center mt-1"
            ><strong class="text-center">{{
              clientId.acc_number
            }}</strong></span
          >
          <span
            class="d-flex justify-content-center mt-1"
            style="flex-wrap: wrap"
            ><strong class="text-center">{{
              clientId.acc_account_type
            }}</strong></span
          >
          <span
            class="d-flex justify-content-center mt-1"
            i18n
            class="text-{{ clientId.acc_status.status_css }}"
            ><span
              ><i class="fa-solid fa-{{ clientId.acc_status.status_icon }}"></i
            ></span>
            @if (clientId.acc_status.reason !== '') {
              <strong class="ms-1"> {{ clientId.acc_status.reason }}</strong>
            } @else if (clientId.acc_status.reason === '') {
              <strong class="ms-1">
                {{ clientId.acc_status.reason_explained }}</strong
              >
            }
          </span>
          @if (signatureDisplay) {
            <span
              i18n
              (click)="showSignatures()"
              tabindex="0"
              class="text-primary d-flex justify-content-center mt-1"
              style="cursor: pointer; text-decoration: underline"
              ><strong><a>Show Signatures</a></strong></span
            >
          }
          @if (!signatureDisplay) {
            <span
              i18n
              (click)="hideSignatures()"
              tabindex="0"
              class="text-primary d-flex justify-content-center mt-1"
              style="text-decoration: underline; cursor: pointer">
              <strong>Hide Signature</strong></span
            >
          }
        </div>
        @if (!signatureDisplay) {
          <div class="row mt-3">
            <!-- Signature picture -->
            @if (signatureloader) {
              <span class="mb-3">
                <app-skeleton
                  class="sm-radius gap-3"
                  height="85px"
                  width="100px"></app-skeleton>
              </span>
            }
            @if (signature && signature.signature) {
              <span class="mb-3" style="height: 85px">
                <img
                  [src]="signature.signature"
                  class="img-fluid image sm-radius"
                  alt="signature1" />
              </span>
            }
            @if (signature && signature.signature) {
              <br />
            }
            @if (signature && signature.signature2) {
              <span class="mb-3" style="height: 85px">
                <img
                  [src]="signature.signature2"
                  class="img-fluid image sm-radius"
                  alt="signature2" />
              </span>
            }

            @if (signatureloader) {
              <span class="mb-3">
                <app-skeleton
                  class="sm-radius gap-2"
                  height="85px"
                  width="100px"></app-skeleton>
              </span>
            }
            @if (
              (!signatureloader && !signature) ||
              (signature && !signature.signature && !signature.signature2)
            ) {
              <span>
                <span
                  class="empty-state-icon d-flex justify-content-center"
                  style="font-size: 40px">
                  <i class="fa-solid fa-face-meh"></i>
                </span>
                <br />
                <b
                  class="empty-state-icon text-md d-flex justify-content-center"
                  i18n>
                  No Signature to display
                </b>
              </span>
            }
          </div>
        }
      </div>
    </div>
  </div>
}
