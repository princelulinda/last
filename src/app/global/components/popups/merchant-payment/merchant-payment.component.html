<dialog
  id="merchant-payment"
  tabindex="-1"
  class="border-0 p-0 bg-white lg-radius bg-white w-100 h-100 overflow-y-auto p-4 text-dark">
  <main>
    <!-- NOTE :: STEPPER AND BACK SECTION -->
    <section class="d-flex align-items-center justify-content-center">
      <!-- <div class="mx-auto d-flex flex-row my-1 w-content flex-grow-1">
        <div class="stepper-wrapper d-flex align-items-center">
          @if (selectedSection === 'second') {
            <div class="stepper-item active">
              <div class="step-counter text-all-dark border border-dark" i18n>
                1
              </div>
            </div>
            <div
              class="stepper-line"
              [ngClass]="
                theme === 'light' ? 'bg-all-dark' : 'bg-all-white'
              "></div>
          }

          @if (selectedSection === 'first') {
            <div class="stepper-item completed">
              <div
                class="step-counter border border-dark bg-primary fw-bold"
                i18n>
                1
              </div>
            </div>
            <div
              class="stepper-line"
              [ngClass]="
                theme === 'light' ? 'bg-all-dark' : 'bg-all-white'
              "></div>
            <div class="stepper-item active">
              <div class="step-counter border text-all-dark border-dark" i18n>
                2
              </div>
            </div>
          }

          @if (selectedSection === 'second') {
            <div
              class="stepper-item completed"
              *ngIf="selectedSection === 'second'">
              <div
                class="step-counter bg-primary fw-bold border border-dark"
                i18n>
                2
              </div>
            </div>
          }
        </div>
      </div> -->
      <div
        class="text-end text-dark"
        tabindex="-1"
        (click)="closeMerchantPaymentDialog()"
        role="button">
        <span class="me-2"><i class="fa fa-arrow-left"></i></span>
        <b i18n> Back</b>
      </div>
    </section>

    <!-- NOTE :: CATEGORY SECTION -->
    @if (category) {
      <section>
        <section class="d-flex align-items-center">
          <div class="d-flex align-items-center">
            <span class="text-primary fs-medium me-3">
              <i class="fa-solid fa-play"></i>
            </span>
            <b class="fs-medium">{{
              category.merchant_activity_sector.title
            }}</b>
          </div>
          <div class="ms-5 bg-secondary category-card x-sm-radius d-flex">
            <span class="text-center flex-grow-1 py-1">
              <small>{{ category.name }}</small>
            </span>
            <small class="bg-primary text-all-white px-2 h-100 x-sm-radius">
              <i class="fa-solid fa-building-columns"></i>
            </small>
          </div>
        </section>
      </section>
    }

    <!-- NOTE :: CATEGORY MERCHANTS SECTION -->
    @if (category && !selectedMerchant) {
      <section class="px-4 mt-4">
        <div>
          <app-category-merchants
            (selectedMerchant)="getSelectedMerchant($event)"
            [categoryId]="category.id"></app-category-merchants>
        </div>
      </section>
    }
    <!-- NOTE :: SELECTED MERCHANT SECTION -->
    @if (selectedMerchant) {
      <section class="px-4 mt-4">
        <section
          class="border position-relative lg-radius d-flex align-items-center py-2 ps-4 pe-3">
          <div
            class="rounded-circle border merchant-profile bg-secondary d-flex align-items-center justify-content-center me-2">
            @if (selectedMerchant.lookup_image) {
              <img
                src="{{ selectedMerchant.lookup_image }}"
                alt="{{ selectedMerchant.lookup_title }} Profile"
                class="image" />
            } @else {
              <span class="fs-large text-secondary mt-2">
                <i class="fa-solid fa-cart-shopping"></i>
              </span>
            }
          </div>
          <div class="d-flex flex-column ms-2">
            <span class="fs-large fw-bold"
              >{{ selectedMerchant.lookup_title }}
              <span class="fs-normal"
                >({{ selectedMerchant.lookup_subtitle }})</span
              ></span
            >
            <span class="fs-normal text-secondary fw-bold">{{
              selectedMerchant.merchant_category_name
            }}</span>
          </div>
        </section>
        <section>
          <app-merchant-products [merchantId]="91"></app-merchant-products>
        </section>
      </section>
    }
  </main>
</dialog>
